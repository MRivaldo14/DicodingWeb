importScripts("https://storage.googleapis.com/workbox-cdn/releases/6.5.4/workbox-sw.js");const CACHE_NAME="app-shell-v1";workbox?(console.log("✅ Workbox loaded"),workbox.precaching.precacheAndRoute([{url:"/",revision:"1"},{url:"/index.html",revision:"1"},{url:"/styles/style.css",revision:"1"},{url:"/icons/icon-192x192.png",revision:"1"},{url:"/icons/icon-512x512.png",revision:"1"}],{ignoreURLParametersMatching:[/.*/]}),workbox.routing.registerRoute((({url:i})=>"https://story-api.dicoding.dev"===i.origin),new workbox.strategies.NetworkFirst({cacheName:"story-api-cache",plugins:[new workbox.expiration.ExpirationPlugin({maxEntries:50,maxAgeSeconds:300})]})),workbox.routing.registerRoute((({request:i})=>"image"===i.destination),new workbox.strategies.CacheFirst({cacheName:"image-cache",plugins:[new workbox.expiration.ExpirationPlugin({maxEntries:60,maxAgeSeconds:2592e3})]})),workbox.routing.registerRoute((({request:i})=>"navigate"===i.mode),(async()=>{try{return await fetch("/")}catch(i){return caches.match("/index.html")}}))):console.log("❌ Workbox gagal dimuat"),self.addEventListener("push",(function(i){const o=i.data?i.data.json():{},e=o.title||"Story App",t={body:o.body||"Anda memiliki notifikasi baru.",icon:"/icons/icon-192x192.png",image:o.image||void 0,data:{url:o.url||"/"}};i.waitUntil(self.registration.showNotification(e,t))})),self.addEventListener("notificationclick",(function(i){i.notification.close(),i.waitUntil(clients.openWindow(i.notification.data.url))}));